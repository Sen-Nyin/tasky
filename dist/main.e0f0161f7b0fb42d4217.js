(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var s=t.g.document;if(!e&&s&&(s.currentScript&&(e=s.currentScript.src),!e)){var a=s.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const e=t.p+"image/sprite.a7fdd62b4bd413ae2311..svg";new class{constructor(t,e){this.view=e,this.model=t,this.view.eventAddTask(this.handleAddTask),this.view.eventDeleteTask(this.handleDeleteTask),this.model.eventOnChange(this.onChange),this.onChange(this.model.tasks)}onChange=t=>{this.view.displayTasks(t)};handleAddTask=t=>this.model.addTask(t);handleDeleteTask=t=>this.model.deleteTask(t)}(new class{constructor(){this.tasks=[],this.projects=[]}eventOnChange(t){this.onChange=t}_commitChange(t){this.onChange(t)}addTask(t){const e={id:this.tasks.length>0?this.tasks[this.tasks.length-1].id+1:1,task:t.title,duedate:t.date,project:t.project,complete:!1};this.tasks.push(e),this._commitChange(this.tasks)}deleteTask(t){this.tasks=this.tasks.filter((e=>e.id!==t)),this._commitChange(this.tasks)}},new class{constructor(){this.elementNavContainer=this.findEle('[data-label="navcontainer"]'),this.elementNavbar=this.findEle('[data-label="navbar"]'),this.buttonNewTask=this.findEle('[data-label="addTaskMain"]'),this.buttonBurger=this.findEle('[data-label="navtoggle"]'),this.labelTaskListHeading=this.findEle('[data-label="tasklistHeading"]'),this.elementTaskList=this.findEle('[data-label="tasklist"]'),this.buttonCloseModal=this.findEle("#close-modal"),this.elementModal=this.findEle('[data-label="modal"]'),this.buttonFormSubmit=this.findEle('[data-label="addtask"]'),this.formNewTask=this.findEle('[data-label="new-task-form"]'),this.inputNewTaskTitle=this.findEle('[data-label="modal-task-title"]'),this.inputNewTaskDate=this.findEle('[data-label="modal-task-date"]'),this.inputNewTaskProject=this.findEle('[data-label="modal-task-project"]'),this.eventToggleNav(),this.eventCloseModal(),this.eventNewTask()}get _taskDetails(){if(this.inputNewTaskTitle.value&&this.inputNewTaskDate.value&&this.inputNewTaskProject.value)return{title:this.inputNewTaskTitle.value,date:this.inputNewTaskDate.value,project:this.inputNewTaskProject.value}}createEle(...t){const[e,...s]=t,a=document.createElement(e);return s.forEach((t=>a.classList.add(t))),a}createSVG(...t){const[s,...a]=t,i="http://www.w3.org/2000/svg",l=document.createElementNS(i,"svg"),n=document.createElementNS(i,"use");return n.setAttribute("href",`${e}#icon-${s}`),a.forEach((t=>l.classList.add(t))),l.append(n),l}findEle(t){return document.querySelector(t)}clearTasks(){for(;this.elementTaskList.firstElementChild;)this.elementTaskList.firstElementChild.remove()}displayTasks(t){if(this.clearTasks(),t.length)t.forEach((t=>{const e=this.createSVG("alarm","tasklist-icon"),s=this.createSVG("label","tasklist-icon"),a=this.createSVG("delete","tasklist-delete-icon");a.dataset.label="delete-button";const i=this.createEle("li");i.classList.add("tasklist-item"),i.dataset.taskid=t.id;const l=this.createEle("span","tasklist-text");l.textContent=t.task;const n=this.createEle("span","tasklist-date");n.textContent=t.duedate,n.prepend(e);const o=this.createEle("span","tasklist-project");o.textContent=t.project,o.prepend(s);const d=this.createEle("input","col-start-1","row-start-1","mr-6");d.type="checkbox";const h=this.createEle("button","tasklist-delete-btn");h.append(a),i.append(d,l,h,n,o),this.elementTaskList.append(i)}));else{const t=this.createEle("p","no-tasks-message");t.textContent="No tasks, go take a walk",this.elementTaskList.append(t)}}toggleModal=()=>{this.formNewTask.reset(),this.elementModal.classList.toggle("hidden")};eventCloseModal(){this.buttonCloseModal.addEventListener("click",(t=>{t.preventDefault(),this.toggleModal()}))}eventToggleNav(){this.buttonBurger.addEventListener("click",(t=>{this.elementNavContainer.classList.toggle("nav-hidden")}))}eventNewTask(){this.buttonNewTask.addEventListener("click",(t=>{this.toggleModal()}))}eventAddTask(t){this.formNewTask.addEventListener("submit",(e=>{e.preventDefault(),this._taskDetails&&(t(this._taskDetails),this.toggleModal())}))}eventDeleteTask(t){this.elementTaskList.addEventListener("click",(e=>{const s=e.target;if("delete-button"===s.dataset.label){const e=Number(s.closest("li").dataset.taskid);t(e)}}))}})})();